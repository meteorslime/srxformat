# srxformat
*Format, convert, and combine multiple SRX-800 datalogger output files (and another file containing supplemental information) into a single dataset.*

The Lotek SRX-800 datalogger is a VHF receiver that automatically scans for pre-programmed frequencies and records signal characteristics (e.g. pulse rate) that can later be converted into measurements of an animal's skin surface temperature. Converting pulse rate to temperature requires an equation provided by the manufacturer, which is unique to each transmitter. The datalogger's raw output consists of tab-separated plaintext files with a .TXT extension.

This repo contains scripts that are intended to (mostly) automate the process of formatting these raw output files as R objects, converting the pulse rate to temperature, merging the resulting objects into a single data structure, and performing some other housekeeping tasks (e.g. removing duplicate records, which occur when the datalogger's internal storage is not cleared after a download) to make the dataset available for manipulation and analysis in R.

In addition to the output files themselves, some supplemental information is needed to complete the dataset: (1) a file containing the unique temperature equation for each transmitter; and (2) a way to associate the labels for individual animal subjects with their respective transmitter frequencies, since the raw output data is only associated with a frequency number (which can be a problem if transmitters are re-used between individuals, as was the case in my study).

Before running the script, I prepared a file called "tempequations.txt" with transmitter frequency number as the identifier, columns x1 through x4 containing the terms for the quadratic equation, and an additional column with the individual animal label ("BatID"), then converted this into an R object. With that done, all that's left is to place the raw datalogger output files into a single directory and run the script.

In two cases, transmitters were re-used between individuals, and the datalogger has no way of knowing that one of these individuals was MYSE-808 and the other was EPFU-404. Instead of developing a programmatic solution, I manually corrected the dataset for those two cases, but if your dataset contains numerous instances of transmitter re-use between individuals you will need to be careful, since the subject label lookup function will only match the *first* record in the supplemental file containing that frequency number.
